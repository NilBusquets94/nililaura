<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="format-detection" content="telephone=no" /> <title>Laura & Nil</title>

    <title>Laura & Nil</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Charm:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <nav class="sticky-nav">
        <button id="hamburger-btn" class="hamburger" aria-controls="primary-navigation" aria-expanded="false">
            <span class="line"></span>
            <span class="line"></span>
            <span class="line"></span>
        </button>

        <ul id="primary-navigation" class="nav-links" data-visible="false">
            <li><a href="#top">Confirma Assistencia</a></li>
            <li><a href="#location">Horaris i Ubicaci√≥</a></li>
            <li><a href="#gift">Regal</a></li>
        </ul>
    </nav>
    <header class="hero" role="banner" aria-label="Portada boda Laura y Nil" id="top">
    <a class="logo" href="#top" aria-label="Inicio">
            <img
                src="logo.png"
                alt="Logo Laura y Nil"
                height="150" />
        </a>
    <div class="hero-content">
            <h1>Laura & Nil</h1>
            <p>13.06.2026, Mas d'Osor</p>
            <a class="btn" href="https://forms.gle/UPQAaie7obC1C1HL6" target="_blank" rel="noopener noreferrer" aria-label="Confirmar asistencia">CONFIRMA ASSISTENCIA</a>
        </div>
    </header>
    <section class="text-section">
        <div class="text-container">
            <p>
                Benvinguts a la nostra web! Ens casem (s√≠, ho heu llegit b√© üòÖ) i volem que sigueu part d‚Äôaquesta festa d‚Äôamor, 
                m√∫sica i bon menjar. Aqu√≠ trobareu tota la informaci√≥ perqu√® no se us escapi res. 
                Ens fa molta il¬∑lusi√≥ poder compartir aquest moment tan significatiu amb tots vosaltres. 
                Prepara‚Äôt per riure, ballar i brindar amb nosaltres!
            </p>
        </div>
    </section>
    <section class="info-split" id="location">
        <div class="info-split__media">
            <h2>Horaris</h2>
            <p>Aqu√≠ trobar√†s els horaris per gaudir junts de cada moment especial.</p>
            <img id="horaris-image" src="timings.png" alt="Imagen del lugar de la boda" />
        </div>

        <div class="info-split__content">
            <h2>Ubicaci√≥</h2>
            <p><b>No volem que et perdis el casament per res del m√≥n!</b></p>
            <p>Aqu√≠ sempre podr√†s consultar l‚Äôadre√ßa, aix√≠ que‚Ä¶ res d‚Äôexcuses per arribar tard!</p>
            <p>Hi haur√† un <b>servei d‚Äôautocar</b> de Sabadell fins a Mas d‚ÄôOsor (anada i tornada). Al formulari ens haureu de confirmar si hi esteu interessats i nosaltres ens posarem en contacte amb vosaltres.</p>
            <p>Si vols quedar-te a dormir a prop, et deixem a continuaci√≥ els dos allotjaments m√©s propers. Tot i aix√≠, hi ha moltes m√©s opcions a internet ‚Äîi, si tens dubtes, ens pots preguntar!</p>
            <div class="copy-container">
                <span id="address-text" class="copy-text">Carretera de Viladrau a F√†brega, Km 0,7, 17406 Viladrau, Girona</span>
                <button id="copy-address-btn" title="Copiar Adre√ßa">
                    <img src="copy-logo.png" alt="Copiar" />
                </button>
                <span id="copy-address-popup" class="copy-popup">Adre√ßa copiada!</span>
            </div>
            <div class="map-container">
                <iframe 
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2964.57399828556!2d2.350242315445672!3d41.8628059792233!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x12a51a1e0b1f1a6b%3A0x8c7e9af2e6d0b2e8!2sMas%20d'Osor!5e0!3m2!1ses!2ses!4v1664530000000"
                    width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
                </iframe>
                
                <a href="https://www.google.com/maps/dir/?api=1&destination=Mas+d'Osor" target="_blank" class="directions-btn" rel="noopener noreferrer">
                    <span class="directions-icon">
                        <img src="direction.png" alt="Icono de c√≥mo llegar">
                    </span>
                    <span class="directions-text">Com arribar</span>
                </a>
            </div>
        </div>
    </section>
    <section class="gift-section" id="gift">
        <div class="gift-content">
            <img src="regalo.png" alt="Icono de regalo" class="gift-icon">
            <h2>Un detall per a nosaltres</h2>
            <p>El vostre regal m√©s gran √©s ser-hi amb nosaltres. Per√≤ si voleu col¬∑laborar en el nostre futur, aqu√≠ teniu el n√∫mero de compte, que ens ajudar√† a fer realitat nous somnis.</p>
            
            <div class="copy-container">
                <span id="iban-number" class="copy-text">ES00 0000 0000 0000 0000 0000</span>
                <button id="copy-button" title="Copiar IBAN">
                    <img src="copy-logo.png" alt="Copiar" />
                </button>
                <span id="copy-popup" class="copy-popup">Copiat!</span>
            </div>

            <p class="iban-holder">Titular: Laura Guitart Pardellans & Nil Busquets</p>
            
        </div>
    </section>
    <section class="countdown-section">
        <h2>Compte enrere</h2>
        <div class="countdown-container">
            <div class="countdown-item">
                <div class="countdown-circle-container">
                    <svg class="countdown-svg" width="120" height="120" viewBox="0 0 120 120">
                        <circle class="bg"       r="50" cx="60" cy="60"></circle>
                        <circle class="progress" id="days-progress" r="50" cx="60" cy="60"></circle>
                    </svg>
                    <div class="countdown-number" id="days">00</div>
                </div>
                <p class="countdown-label">Dies</p>
            </div>
            <div class="countdown-item">
                <div class="countdown-circle-container">
                    <svg class="countdown-svg" width="120" height="120" viewBox="0 0 120 120">
                        <circle class="bg" r="50" cx="60" cy="60"></circle>
                        <circle class="progress" id="hours-progress" r="50" cx="60" cy="60"></circle>
                    </svg>
                    <div class="countdown-number" id="hours">00</div>
                </div>
                <p class="countdown-label">Hores</p>
            </div>
            <div class="countdown-item">
                <div class="countdown-circle-container">
                    <svg class="countdown-svg" width="120" height="120" viewBox="0 0 120 120">
                        <circle class="bg" r="50" cx="60" cy="60"></circle>
                        <circle class="progress" id="minutes-progress" r="50" cx="60" cy="60"></circle>
                    </svg>
                    <div class="countdown-number" id="minutes">00</div>
                </div>
                <p class="countdown-label">Minuts</p>
            </div>
            <div class="countdown-item">
                <div class="countdown-circle-container">
                    <svg class="countdown-svg" width="120" height="120" viewBox="0 0 120 120">
                        <circle class="bg" r="50" cx="60" cy="60"></circle>
                        <circle class="progress" id="seconds-progress" r="50" cx="60" cy="60"></circle>
                    </svg>
                    <div class="countdown-number" id="seconds">00</div>
                </div>
                <p class="countdown-label">Segons</p>
            </div>
        </div>
    </section>

    <section class="thank-you-section">
        <div class="thank-you-content">
            <h2>Gr√†cies!</h2>
            <p>Per qualsevol dubte o si necessiteu m√©s informaci√≥, ens podeu escriure directament per <b>Whatsapp</b>. Gr√†cies per ser-hi!</p>
        </div>
    </section>

    <script>

        // Estableix la data i hora del casament
        const weddingDate = new Date("June 13, 2026 17:00:00").getTime();

        // Elements del DOM
        const daysEl = document.getElementById('days');
        const hoursEl = document.getElementById('hours');
        const minutesEl = document.getElementById('minutes');
        const secondsEl = document.getElementById('seconds');
        
        const daysProgress = document.getElementById('days-progress');
        const hoursProgress = document.getElementById('hours-progress');
        const minutesProgress = document.getElementById('minutes-progress');
        const secondsProgress = document.getElementById('seconds-progress');
        
        // El radi del cercle de progr√©s
        const radius = daysProgress.r.baseVal.value;
        const circumference = 2 * Math.PI * radius;

        // Inicialitza els cercles
        [daysProgress, hoursProgress, minutesProgress, secondsProgress].forEach(circle => {
            circle.style.strokeDasharray = circumference;
            circle.style.strokeDashoffset = circumference;
        });

        const countdown = setInterval(function() {
            const now = new Date().getTime();
            const distance = weddingDate - now;

            if (distance < 0) {
                clearInterval(countdown);
                daysEl.innerHTML = "00";
                hoursEl.innerHTML = "00";
                minutesEl.innerHTML = "00";
                secondsEl.innerHTML = "00";
                // Assegura que els cercles quedin a 0
                [daysProgress, hoursProgress, minutesProgress, secondsProgress].forEach(c => c.style.strokeDashoffset = circumference);
                return;
            }

            // C√†lculs de temps
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Actualitza els n√∫meros (amb un 0 davant si cal)
            daysEl.innerHTML = String(days).padStart(2, '0');
            hoursEl.innerHTML = String(hours).padStart(2, '0');
            minutesEl.innerHTML = String(minutes).padStart(2, '0');
            secondsEl.innerHTML = String(seconds).padStart(2, '0');
            
            // Actualitza els cercles de progr√©s
            // (Considerant 365 dies en un any per al cercle de dies)
            daysProgress.style.strokeDashoffset = circumference - (days / 365) * circumference;
            hoursProgress.style.strokeDashoffset = circumference - (hours / 24) * circumference;
            minutesProgress.style.strokeDashoffset = circumference - (minutes / 60) * circumference;
            secondsProgress.style.strokeDashoffset = circumference - (seconds / 60) * circumference;

        }, 1000);
        const nav = document.querySelector('.sticky-nav');
        const navLinks = document.querySelectorAll('.sticky-nav a');
        const sections = document.querySelectorAll('header[id], section[id]');

        // Funci√≥n para el fondo del men√∫ al hacer scroll
        function handleNavBackground() {
            if (window.scrollY > 50) { // Si el scroll es mayor a 50px
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
        }

        // Funci√≥n para el enlace activo al hacer scroll
        function handleActiveLink() {
            let currentSection = '';

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                // La altura del men√∫ es ~60px, usamos ese offset
                if (pageYOffset >= sectionTop - 70) { 
                    currentSection = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').substring(1) === currentSection) {
                    link.classList.add('active');
                }
            });
        }

        // Escuchar el evento de scroll y ejecutar ambas funciones
        window.addEventListener('scroll', function() {
            handleNavBackground();
            handleActiveLink();
        });

        // Ejecutar una vez al cargar la p√°gina por si no empieza arriba del todo
        handleActiveLink();
    
    document.getElementById('copy-button').addEventListener('click', function() {
        const ibanText = document.getElementById('iban-number').innerText;
        const popup = document.getElementById('copy-popup');

        navigator.clipboard.writeText(ibanText).then(() => {
            // Muestra el pop-up a√±adiendo la clase 'show'
            popup.classList.add('show');

            // Oculta el pop-up despu√©s de 1.5 segundos
            setTimeout(() => {
                popup.classList.remove('show');
            }, 1500);
        }).catch(err => {
            console.error('Error al copiar el IBAN: ', err);
        });
    });
    
    // ===== C√ìDIGO SIMPLIFICADO PARA EL MEN√ö M√ìVIL =====
    const hamburgerBtn = document.getElementById('hamburger-btn');
    const navLinks2 = document.getElementById('primary-navigation');

    hamburgerBtn.addEventListener('click', () => {
        const isVisible = navLinks2.getAttribute('data-visible') === 'true';

        if (isVisible) {
            navLinks2.setAttribute('data-visible', 'false');
            hamburgerBtn.setAttribute('aria-expanded', 'false');
        } else {
            navLinks2.setAttribute('data-visible', 'true');
            hamburgerBtn.setAttribute('aria-expanded', 'true');
        }
    });

    // Cierra el men√∫ al hacer clic en un enlace
    document.querySelectorAll('.nav-links a').forEach(link => {
        link.addEventListener('click', () => {
            navLinks2.setAttribute('data-visible', 'false');
            hamburgerBtn.setAttribute('aria-expanded', 'false');
        });
    });

    // ===== C√ìDIGO CORREGIDO PARA EL POP-UP DE LA IMAGEN DE HORARIOS =====
    document.addEventListener('DOMContentLoaded', function() {
        // Obtener los elementos del DOM
        const modal = document.getElementById("image-modal");
        const triggerImage = document.getElementById("horaris-image");
        const modalImage = document.getElementById("modal-image");
        const closeBtn = document.querySelector(".modal-close-btn");
        const bodyElForModal = document.body;

        // Verificamos que la imagen y el modal existen antes de continuar
        if (triggerImage && modal) {
            
            // Abre el modal al hacer clic en la imagen de horarios
            triggerImage.onclick = function() {
            modal.style.display = "block";
            modalImage.src = this.src;
            bodyElForModal.classList.add("no-scroll");
            }

            // Cierra el modal con el bot√≥n 'X'
            closeBtn.onclick = function() {
            modal.style.display = "none";
            bodyElForModal.classList.remove("no-scroll");
            }

            // Cierra el modal al hacer clic en el fondo gris
            window.addEventListener('click', function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                    bodyElForModal.classList.remove("no-scroll");
                }
            });
        }
    });

    // ===== C√ìDIGO PARA COPIAR LA DIRECCI√ìN =====
    document.getElementById('copy-address-btn').addEventListener('click', function() {
        const addressText = document.getElementById('address-text').innerText;
        const popup = document.getElementById('copy-address-popup');

        navigator.clipboard.writeText(addressText).then(() => {
            // Muestra el pop-up
            popup.classList.add('show');

            // Oculta el pop-up despu√©s de 1.5 segundos
            setTimeout(() => {
                popup.classList.remove('show');
            }, 1500);
        }).catch(err => {
            console.error('Error al copiar la direcci√≥n: ', err);
        });
    });
    </script>

<div id="image-modal" class="modal">
  <span class="modal-close-btn">√ó</span>
  <img class="modal-content" id="modal-image">
</div>

</body>
</html>